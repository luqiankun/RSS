# 车辆订单处理流程

- 接到订单
- 规划路径
- 生成命令
- 发送命令到调度器
- 调度器通过命令调用车辆的move功能
  - 车辆执行move
  - 执行结束后，通过命令
  - 命令根据结果进行其他处理
- 调度器通过命令调用车辆的重派订单功能
  - 车辆通过订单管理器执行重派订单
  - 命令状态切换到REDISBUTE状态
  - 当前订单reset
  - idle
- 调度器通过命令调用车辆的动作功能
  - 车辆执行action
  - 执行结束后，通过命令
  - 命令根据结果进行其他处理
- 调度器通过命令通知车辆该命令的执行结果
- 成功 ，判断订单是否执行完成
  - 未完成，继续生成下个命令，发送到调度器
  - 完成，订单完成，车辆idle
- 失败 订单失败

# 主要点

不同车辆覆写不同的move和action方法
注意 vda车辆里可能需要在路径上执行外设操作或vda定义的路径附带动作，要判断执行结果
